{"ast":null,"code":"import _classCallCheck from \"/Users/prateek/Desktop/dmp/Disaster-management-portal/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/prateek/Desktop/dmp/Disaster-management-portal/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/prateek/Desktop/dmp/Disaster-management-portal/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/prateek/Desktop/dmp/Disaster-management-portal/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/prateek/Desktop/dmp/Disaster-management-portal/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/prateek/Desktop/dmp/Disaster-management-portal/client/src/components/MostAffected.js\";\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { Bar } from 'react-chartjs-2';\nimport axios from 'axios';\nimport AnimatedNumber from 'react-animated-number';\n\nvar MostAffected =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MostAffected, _Component);\n\n  function MostAffected(props) {\n    var _this;\n\n    _classCallCheck(this, MostAffected);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MostAffected).call(this, props));\n    _this.state = {\n      Data: {},\n      Data1: {},\n      firedatas: [],\n      stuck: 0,\n      rescued: 0\n    };\n    return _this;\n  }\n\n  _createClass(MostAffected, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.timer = setInterval(function () {\n        return _this2.setfirecount();\n      }, 2000);\n      this.timer1 = setInterval(function () {\n        return _this2.setfiredata();\n      }, 2000);\n      this.timer2 = setInterval(function () {\n        return _this2.setallcount();\n      }, 2000);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.timer = null;\n      clearInterval(this.timer);\n      this.timer1 = null;\n      clearInterval(this.timer1);\n      this.timer2 = null;\n      clearInterval(this.timer2);\n    }\n  }, {\n    key: \"setfirecount\",\n    value: function setfirecount() {\n      var _this3 = this;\n\n      axios.get(\"http://localhost:3001/getfirecount\").then(function (res) {\n        var fire = res.data.results[0].data.sort(function (a, b) {\n          return b.stuck - a.stuck;\n        });\n        console.log(fire);\n        var city = [];\n        var stuck = [];\n        var rescued = [];\n        fire.forEach(function (element) {\n          city.push(element.city);\n          stuck.push(element.stuck);\n          rescued.push(element.rescued);\n        });\n\n        _this3.setState({\n          Data: {\n            labels: city,\n            datasets: [{\n              label: 'TOP CITIES WITH FIRE CASES REGISTERED',\n              data: stuck,\n              backgroundColor: ['rgba(255,30,30,0.8)', 'rgba(155,100,210,0.8)', 'rgba(90,178,255,0.8)', 'rgba(240,134,67,0.8)', 'rgba(120,120,120,0.8)', 'rgba(250,55,197,0.8)', 'rgba(148,244,129,0.8)', 'rgba(244,228,128,0.8)', 'rgba(247,171,133,0.8)', 'rgba(255,91,91,0.8)', 'rgba(91,153,255,0.8)']\n            }]\n          }\n        });\n\n        _this3.setState({\n          Data1: {\n            labels: city,\n            datasets: [{\n              label: 'CORRESPONDINING CITIES WITH NO OF RESOLVED CASES',\n              data: rescued,\n              backgroundColor: ['rgba(255,30,30,0.8)', 'rgba(155,100,210,0.8)', 'rgba(90,178,255,0.8)', 'rgba(240,134,67,0.8)', 'rgba(120,120,120,0.8)', 'rgba(250,55,197,0.8)', 'rgba(148,244,129,0.8)', 'rgba(244,228,128,0.8)', 'rgba(247,171,133,0.8)', 'rgba(255,91,91,0.8)', 'rgba(91,153,255,0.8)']\n            }]\n          }\n        });\n      });\n    }\n  }, {\n    key: \"setfiredata\",\n    value: function setfiredata() {\n      var _this4 = this;\n\n      axios.get(\"http://localhost:3001/getfiredata\").then(function (res) {\n        _this4.setState({\n          firedatas: res.data.results\n        });\n      });\n    }\n  }, {\n    key: \"setallcount\",\n    value: function setallcount() {\n      var _this5 = this;\n\n      axios.get(\"http://localhost:3001/getallcount\").then(function (res) {\n        console.log(res.data.results[0]);\n        var n1 = res.data.results[0].FireStuck;\n        var n2 = res.data.results[0].FireRescued;\n\n        _this5.setState({\n          stuck: n1,\n          rescued: n2\n        });\n      });\n    }\n  }, {\n    key: \"renderData\",\n    value: function renderData() {\n      return this.state.firedatas.map(function (firedata) {\n        if (firedata.source == \"Twitter\") {\n          return React.createElement(\"div\", {\n            className: \"each-live-twitter\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132\n            },\n            __self: this\n          }, \"Message: \", firedata.message)), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 133\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 133\n            },\n            __self: this\n          }, \"Location: \", firedata.location)), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 134\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 134\n            },\n            __self: this\n          }, \"Date: \", firedata.date)), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135\n            },\n            __self: this\n          }, \"Time: \", firedata.time)));\n        } else if (firedata.source == \"fb\") {\n          return React.createElement(\"div\", {\n            className: \"each-live-facebook\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 143\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 143\n            },\n            __self: this\n          }, \"Message: \", firedata.message)), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 144\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 144\n            },\n            __self: this\n          }, \"Location: \", firedata.location)), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 145\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 145\n            },\n            __self: this\n          }, \"Date: \", firedata.date)), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 146\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 146\n            },\n            __self: this\n          }, \"Category: \", firedata.category)));\n        } else {\n          return React.createElement(\"div\", {\n            className: \"each-live-helpline\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 153\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 154\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 154\n            },\n            __self: this\n          }, \"Message: \", firedata.message)), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 155\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 155\n            },\n            __self: this\n          }, \"Location: \", firedata.location)), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 156\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 156\n            },\n            __self: this\n          }, \"Date: \", firedata.date)), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 157\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 157\n            },\n            __self: this\n          }, \"Time: \", firedata.time)));\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        className: \"active\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"Home\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/fire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, \"Fire-Events\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(Link, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"Contact\")), React.createElement(\"li\", {\n        className: \"heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, \"DISASTER MANAGEMENT PORTAL\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"counter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        style: {\n          color: '#8424c9',\n          marginTop: '0px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"TOP 10 FIRE AFFECTED REGIONS\")), React.createElement(\"div\", {\n        className: \"update-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, \"FIRE-CASES RESOLVED:\")), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(AnimatedNumber, {\n        component: \"text\",\n        value: this.state.rescued,\n        style: {\n          transition: '0.8s ease-out',\n          fontSize: 48,\n          transitionProperty: 'background-color, color, opacity'\n        },\n        frameStyle: function frameStyle(perc) {\n          return perc === 100 ? {} : {\n            backgroundColor: '#8424c9'\n          };\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"update-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"FIRE-CASES OVERALL:\")), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(AnimatedNumber, {\n        component: \"text\",\n        value: this.state.stuck,\n        style: {\n          transition: '0.8s ease-out',\n          fontSize: 48,\n          transitionProperty: 'background-color, color, opacity'\n        },\n        frameStyle: function frameStyle(perc) {\n          return perc === 100 ? {} : {\n            backgroundColor: '#8424c9'\n          };\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"graph1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(Bar, {\n        data: this.state.Data,\n        options: {\n          maintainAspectRatio: false\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"graph2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(Bar, {\n        data: this.state.Data1,\n        options: {\n          maintainAspectRatio: false\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"right-feed\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        style: {\n          color: \"#8424c9\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, \"LIVE FEED\")), this.renderData()));\n    }\n  }]);\n\n  return MostAffected;\n}(Component);\n\nexport default withRouter(MostAffected);","map":{"version":3,"sources":["/Users/prateek/Desktop/dmp/Disaster-management-portal/client/src/components/MostAffected.js"],"names":["React","Component","Link","withRouter","Bar","axios","AnimatedNumber","MostAffected","props","state","Data","Data1","firedatas","stuck","rescued","timer","setInterval","setfirecount","timer1","setfiredata","timer2","setallcount","clearInterval","get","then","res","fire","data","results","sort","a","b","console","log","city","forEach","element","push","setState","labels","datasets","label","backgroundColor","n1","FireStuck","n2","FireRescued","map","firedata","source","message","location","date","time","category","color","marginTop","transition","fontSize","transitionProperty","perc","maintainAspectRatio","renderData"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Link, withRouter} from 'react-router-dom';\nimport {Bar} from 'react-chartjs-2';\nimport axios from 'axios';\nimport AnimatedNumber from 'react-animated-number';\n\nclass MostAffected extends Component\n{\n    constructor(props) {\n        super(props);\n        this.state = {\n            Data: {},\n            Data1: {},\n            firedatas: [],\n            stuck: 0,\n            rescued: 0\n        }\n    }\n\n    componentDidMount() {\n\n        this.timer = setInterval(()=> this.setfirecount(), 2000);\n        this.timer1 = setInterval(()=> this.setfiredata(), 2000);\n        this.timer2 = setInterval(()=> this.setallcount(), 2000);\n    }\n\n    componentWillUnmount() {\n        this.timer  = null;\n        clearInterval(this.timer);\n        this.timer1 = null;\n        clearInterval(this.timer1);\n        this.timer2 = null;\n        clearInterval(this.timer2);\n    }\n\n    setfirecount(){\n        axios.get(`http://localhost:3001/getfirecount`)\n            .then(res => {\n                const fire = res.data.results[0].data.sort(function(a, b){return b.stuck-a.stuck})\n                console.log(fire);\n                let city = [];\n                let stuck = [];\n                let rescued = [];\n                fire.forEach(element => {\n                    city.push(element.city);\n                    stuck.push(element.stuck);\n                    rescued.push(element.rescued);\n                });\n                this.setState({\n                    Data: {\n                        labels: city,\n                        datasets:[\n                            {\n                                label:'TOP CITIES WITH FIRE CASES REGISTERED',\n                                data: stuck ,\n                                backgroundColor:[\n                                    'rgba(255,30,30,0.8)',\n                                    'rgba(155,100,210,0.8)',\n                                    'rgba(90,178,255,0.8)',\n                                    'rgba(240,134,67,0.8)',\n                                    'rgba(120,120,120,0.8)',\n                                    'rgba(250,55,197,0.8)',\n                                    'rgba(148,244,129,0.8)',\n                                    'rgba(244,228,128,0.8)',\n                                    'rgba(247,171,133,0.8)',\n                                    'rgba(255,91,91,0.8)',\n                                    'rgba(91,153,255,0.8)'\n                                ]\n                            }\n                        ]\n                    }\n                });\n\n                this.setState({\n                    Data1: {\n                        labels: city,\n                        datasets:[\n                            {\n                                label:'CORRESPONDINING CITIES WITH NO OF RESOLVED CASES',\n                                data: rescued ,\n                                backgroundColor:[\n                                    'rgba(255,30,30,0.8)',\n                                    'rgba(155,100,210,0.8)',\n                                    'rgba(90,178,255,0.8)',\n                                    'rgba(240,134,67,0.8)',\n                                    'rgba(120,120,120,0.8)',\n                                    'rgba(250,55,197,0.8)',\n                                    'rgba(148,244,129,0.8)',\n                                    'rgba(244,228,128,0.8)',\n                                    'rgba(247,171,133,0.8)',\n                                    'rgba(255,91,91,0.8)',\n                                    'rgba(91,153,255,0.8)'\n                                ]\n                            }\n                        ]\n                    }\n                });\n            })\n    }\n\n    setfiredata(){\n        axios.get(`http://localhost:3001/getfiredata`)\n            .then(res => {\n                this.setState({\n                    firedatas: res.data.results\n                })\n            })\n    }\n\n    setallcount(){\n        axios.get(`http://localhost:3001/getallcount`)\n            .then(res => {\n                console.log(res.data.results[0])\n                const n1 = res.data.results[0].FireStuck;\n                const n2 = res.data.results[0].FireRescued;\n\n                this.setState({\n                    stuck: n1,\n                    rescued: n2\n                })\n            })\n    }\n\n\n\n    renderData(){\n        return this.state.firedatas.map((firedata) => {\n            if(firedata.source == \"Twitter\") {\n                return (\n                    <div className=\"each-live-twitter\" >\n\n                        <p><b>Message: {firedata.message}</b></p>\n                        <p><b>Location: {firedata.location}</b></p>\n                        <p><b>Date: {firedata.date}</b></p>\n                        <p><b>Time: {firedata.time}</b></p>\n                    </div>\n                )\n            }\n\n            else if(firedata.source == \"fb\"){\n                return (\n                    <div className=\"each-live-facebook\">\n                        <p><b>Message: {firedata.message}</b></p>\n                        <p><b>Location: {firedata.location}</b></p>\n                        <p><b>Date: {firedata.date}</b></p>\n                        <p><b>Category: {firedata.category}</b></p>\n                    </div>\n                )\n            }\n\n            else{\n                return (\n                    <div className=\"each-live-helpline\">\n                        <p><b>Message: {firedata.message}</b></p>\n                        <p><b>Location: {firedata.location}</b></p>\n                        <p><b>Date: {firedata.date}</b></p>\n                        <p><b>Time: {firedata.time}</b></p>\n                    </div>\n                )\n            }\n\n            }\n\n        )\n    }\n\n    render()\n    {\n        return(\n            <div>\n\n                <ul>\n                    <li><Link to=\"/\" className=\"active\"  >Home</Link></li>\n                    <li><Link to=\"/fire\" >Fire-Events</Link></li>\n                    <li><Link >Contact</Link></li>\n                    <li className=\"heading\">DISASTER MANAGEMENT PORTAL</li>\n                </ul>\n                <br />\n\n                <div className=\"counter\">\n                    <h2 style={{ color: '#8424c9', marginTop: '0px'}}><b>TOP 10 FIRE AFFECTED REGIONS</b></h2>\n                    <div className=\"update-1\">\n                        <h4><b>FIRE-CASES RESOLVED:</b></h4>\n                        <h3><b>\n                            <AnimatedNumber component=\"text\" value={this.state.rescued}\n                                            style={{\n                                                transition: '0.8s ease-out',\n                                                fontSize: 48,\n                                                transitionProperty:\n                                                    'background-color, color, opacity'\n                                            }}\n                                            frameStyle={perc => (\n                                                perc === 100 ? {} : {backgroundColor: '#8424c9'}\n                                            )}\n\n                            />\n                        </b></h3>\n                    </div>\n                    <div className=\"update-1\">\n                        <h4><b>FIRE-CASES OVERALL:</b></h4>\n                        <h3><b>\n                            <AnimatedNumber component=\"text\" value={this.state.stuck}\n                                            style={{\n                                                transition: '0.8s ease-out',\n                                                fontSize: 48,\n                                                transitionProperty:\n                                                    'background-color, color, opacity'\n                                            }}\n                                            frameStyle={perc => (\n                                                perc === 100 ? {} : {backgroundColor: '#8424c9'}\n                                            )}\n\n                            />\n                        </b></h3>\n                    </div>\n                </div>\n                <div className=\"graph1\">\n                    <Bar\n                        data = {this.state.Data}\n                        options = {{ maintainAspectRatio: false }} />\n                </div>\n                <div className=\"graph2\">\n                    <Bar\n                        data = {this.state.Data1}\n                        options = {{ maintainAspectRatio: false }} />\n                </div>\n                <div className=\"right-feed\">\n                    <h4 style={{ color: \"#8424c9\"}}><b>LIVE FEED</b></h4>\n                    {this.renderData()}\n                </div>\n            </div>\n        )\n    }\n}\nexport default withRouter(MostAffected)\n\n"]},"metadata":{},"sourceType":"module"}