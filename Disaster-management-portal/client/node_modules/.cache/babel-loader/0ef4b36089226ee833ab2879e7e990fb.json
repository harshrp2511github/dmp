{"ast":null,"code":"import _classCallCheck from \"C:\\\\295B\\\\Disaster-management-portal\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\295B\\\\Disaster-management-portal\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\295B\\\\Disaster-management-portal\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\295B\\\\Disaster-management-portal\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\295B\\\\Disaster-management-portal\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\295B\\\\Disaster-management-portal\\\\client\\\\src\\\\components\\\\Food.js\";\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { Bar } from 'react-chartjs-2';\nimport axios from 'axios';\n\nvar Food =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Food, _Component);\n\n  function Food(props) {\n    var _this;\n\n    _classCallCheck(this, Food);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Food).call(this, props));\n    _this.state = {\n      Data: {},\n      Data1: {},\n      fooddatas: []\n    };\n    return _this;\n  }\n\n  _createClass(Food, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.timer = setInterval(function () {\n        return _this2.setfoodcount();\n      }, 2000);\n      this.timer1 = setInterval(function () {\n        return _this2.setfooddata();\n      }, 2000);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.timer = null;\n      clearInterval(this.timer);\n      this.timer1 = null;\n      clearInterval(this.timer1);\n    }\n  }, {\n    key: \"setfoodcount\",\n    value: function setfoodcount() {\n      var _this3 = this;\n\n      axios.get(\"http://localhost:3001/getfoodcount\").then(function (res) {\n        var food = res.data.results;\n        console.log(food);\n        var city = [];\n        var stuck = [];\n        var rescued = [];\n        food.forEach(function (element) {\n          city.push(element.city);\n          stuck.push(element.stuck);\n          rescued.push(element.rescued);\n        });\n\n        _this3.setState({\n          Data: {\n            labels: city,\n            datasets: [{\n              label: 'Top 10 cities with Pending Cases ',\n              data: stuck,\n              backgroundColor: ['rgba(255,30,30,0.8)', 'rgba(155,100,210,0.8)', 'rgba(90,178,255,0.8)', 'rgba(240,134,67,0.8)', 'rgba(120,120,120,0.8)', 'rgba(250,55,197,0.8)', 'rgba(148,244,129,0.8)', 'rgba(244,228,128,0.8)', 'rgba(247,171,133,0.8)', 'rgba(255,91,91,0.8)', 'rgba(91,153,255,0.8)']\n            }]\n          }\n        });\n\n        _this3.setState({\n          Data1: {\n            labels: city,\n            datasets: [{\n              label: 'Corresponding cities with number of Resolved Cases ',\n              data: rescued,\n              backgroundColor: ['rgba(255,30,30,0.8)', 'rgba(155,100,210,0.8)', 'rgba(90,178,255,0.8)', 'rgba(240,134,67,0.8)', 'rgba(120,120,120,0.8)', 'rgba(250,55,197,0.8)', 'rgba(148,244,129,0.8)', 'rgba(244,228,128,0.8)', 'rgba(247,171,133,0.8)', 'rgba(255,91,91,0.8)', 'rgba(91,153,255,0.8)']\n            }]\n          }\n        });\n      });\n    }\n  }, {\n    key: \"setfooddata\",\n    value: function setfooddata() {\n      var _this4 = this;\n\n      axios.get(\"http://localhost:3001/getfooddata\").then(function (res) {\n        _this4.setState({\n          fooddatas: res.data.results\n        });\n      });\n    }\n  }, {\n    key: \"renderData\",\n    value: function renderData() {\n      return this.state.fooddatas.map(function (fooddata) {\n        if (fooddata.source == \"Twitter\") {\n          return React.createElement(\"div\", {\n            className: \"each-live-twitter\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111\n            },\n            __self: this\n          }, \"Message: \", fooddata.message)), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112\n            },\n            __self: this\n          }, \"Location: \", fooddata.location)), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113\n            },\n            __self: this\n          }, \"Date: \", fooddata.date)), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114\n            },\n            __self: this\n          }, \"Time: \", fooddata.time)));\n        } else if (fooddata.source == \"Facebook\") {\n          return React.createElement(\"div\", {\n            className: \"each-live-facebook\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 121\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122\n            },\n            __self: this\n          }, \"Message: \", fooddata.message)), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123\n            },\n            __self: this\n          }, \"Location: \", fooddata.location)), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124\n            },\n            __self: this\n          }, \"Date: \", fooddata.date)), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 125\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 125\n            },\n            __self: this\n          }, \"Time: \", fooddata.time)));\n        } else {\n          return React.createElement(\"div\", {\n            className: \"each-live-helpline\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 133\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 133\n            },\n            __self: this\n          }, \"Message: \", fooddata.message)), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 134\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 134\n            },\n            __self: this\n          }, \"Location: \", fooddata.location)), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135\n            },\n            __self: this\n          }, \"Date: \", fooddata.date)), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 136\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 136\n            },\n            __self: this\n          }, \"Time: \", fooddata.time)));\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        className: \"active\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Home\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/fire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"Fire-Events\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(Link, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"Contact\")), React.createElement(\"li\", {\n        className: \"heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"DISASTER MANAGEMENT PORTAL\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"counter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        style: {\n          color: '#8424c9',\n          marginTop: '0px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"TOP 10 AFFECTED REGIONS\"))), React.createElement(\"div\", {\n        className: \"graph1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(Bar, {\n        data: this.state.Data,\n        options: {\n          maintainAspectRatio: false\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"graph2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(Bar, {\n        data: this.state.Data1,\n        options: {\n          maintainAspectRatio: false\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"right-feed\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        style: {\n          color: \"#8424c9\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"LIVE FEED\")), this.renderData()));\n    }\n  }]);\n\n  return Food;\n}(Component);\n\nexport default withRouter(Food);","map":{"version":3,"sources":["C:\\295B\\Disaster-management-portal\\client\\src\\components\\Food.js"],"names":["React","Component","Link","withRouter","Bar","axios","Food","props","state","Data","Data1","fooddatas","timer","setInterval","setfoodcount","timer1","setfooddata","clearInterval","get","then","res","food","data","results","console","log","city","stuck","rescued","forEach","element","push","setState","labels","datasets","label","backgroundColor","map","fooddata","source","message","location","date","time","color","marginTop","maintainAspectRatio","renderData"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {Link, withRouter} from 'react-router-dom';\r\nimport {Bar} from 'react-chartjs-2';\r\nimport axios from 'axios';\r\nclass Food extends Component\r\n{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            Data: {},\r\n            Data1: {},\r\n            fooddatas: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        this.timer = setInterval(()=> this.setfoodcount(), 2000);\r\n        this.timer1 = setInterval(()=> this.setfooddata(), 2000);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.timer  = null;\r\n        clearInterval(this.timer);\r\n        this.timer1 = null;\r\n        clearInterval(this.timer1);\r\n    }\r\n\r\n    setfoodcount(){\r\n        axios.get(`http://localhost:3001/getfoodcount`)\r\n            .then(res => {\r\n                const food = res.data.results;\r\n                console.log(food);\r\n                let city = [];\r\n                let stuck = [];\r\n                let rescued = [];\r\n                food.forEach(element => {\r\n                    city.push(element.city);\r\n                    stuck.push(element.stuck);\r\n                    rescued.push(element.rescued);\r\n                });\r\n                this.setState({\r\n                    Data: {\r\n                        labels: city,\r\n                        datasets:[\r\n                            {\r\n                                label:'Top 10 cities with Pending Cases ',\r\n                                data: stuck ,\r\n                                backgroundColor:[\r\n                                    'rgba(255,30,30,0.8)',\r\n                                    'rgba(155,100,210,0.8)',\r\n                                    'rgba(90,178,255,0.8)',\r\n                                    'rgba(240,134,67,0.8)',\r\n                                    'rgba(120,120,120,0.8)',\r\n                                    'rgba(250,55,197,0.8)',\r\n                                    'rgba(148,244,129,0.8)',\r\n                                    'rgba(244,228,128,0.8)',\r\n                                    'rgba(247,171,133,0.8)',\r\n                                    'rgba(255,91,91,0.8)',\r\n                                    'rgba(91,153,255,0.8)'\r\n                                ]\r\n                            }\r\n                        ]\r\n                    }\r\n                });\r\n\r\n                this.setState({\r\n                    Data1: {\r\n                        labels: city,\r\n                        datasets:[\r\n                            {\r\n                                label:'Corresponding cities with number of Resolved Cases ',\r\n                                data: rescued ,\r\n                                backgroundColor:[\r\n                                    'rgba(255,30,30,0.8)',\r\n                                    'rgba(155,100,210,0.8)',\r\n                                    'rgba(90,178,255,0.8)',\r\n                                    'rgba(240,134,67,0.8)',\r\n                                    'rgba(120,120,120,0.8)',\r\n                                    'rgba(250,55,197,0.8)',\r\n                                    'rgba(148,244,129,0.8)',\r\n                                    'rgba(244,228,128,0.8)',\r\n                                    'rgba(247,171,133,0.8)',\r\n                                    'rgba(255,91,91,0.8)',\r\n                                    'rgba(91,153,255,0.8)'\r\n                                ]\r\n                            }\r\n                        ]\r\n                    }\r\n                });\r\n            })\r\n    }\r\n\r\n    setfooddata(){\r\n        axios.get(`http://localhost:3001/getfooddata`)\r\n            .then(res => {\r\n                this.setState({\r\n                    fooddatas: res.data.results\r\n                })\r\n            })\r\n    }\r\n\r\n\r\n\r\n    renderData(){\r\n        return this.state.fooddatas.map((fooddata) => {\r\n                if(fooddata.source == \"Twitter\") {\r\n                    return (\r\n                        <div className=\"each-live-twitter\" >\r\n\r\n                            <p><b>Message: {fooddata.message}</b></p>\r\n                            <p><b>Location: {fooddata.location}</b></p>\r\n                            <p><b>Date: {fooddata.date}</b></p>\r\n                            <p><b>Time: {fooddata.time}</b></p>\r\n                        </div>\r\n                    )\r\n                }\r\n\r\n                else if(fooddata.source == \"Facebook\"){\r\n                    return (\r\n                        <div className=\"each-live-facebook\">\r\n                            <p><b>Message: {fooddata.message}</b></p>\r\n                            <p><b>Location: {fooddata.location}</b></p>\r\n                            <p><b>Date: {fooddata.date}</b></p>\r\n                            <p><b>Time: {fooddata.time}</b></p>\r\n                        </div>\r\n                    )\r\n                }\r\n\r\n                else{\r\n                    return (\r\n                        <div className=\"each-live-helpline\">\r\n                            <p><b>Message: {fooddata.message}</b></p>\r\n                            <p><b>Location: {fooddata.location}</b></p>\r\n                            <p><b>Date: {fooddata.date}</b></p>\r\n                            <p><b>Time: {fooddata.time}</b></p>\r\n                        </div>\r\n                    )\r\n                }\r\n\r\n            }\r\n\r\n        )\r\n    }\r\n\r\n    render()\r\n    {\r\n        return(\r\n            <div>\r\n\r\n                <ul>\r\n                    <li><Link to=\"/\" className=\"active\"  >Home</Link></li>\r\n                    <li><Link to=\"/fire\" >Fire-Events</Link></li>\r\n                    <li><Link >Contact</Link></li>\r\n                    <li className=\"heading\">DISASTER MANAGEMENT PORTAL</li>\r\n                </ul>\r\n                <br />\r\n\r\n                <div className=\"counter\">\r\n                    <h2 style={{ color: '#8424c9', marginTop: '0px'}}><b>TOP 10 AFFECTED REGIONS</b></h2>\r\n                </div>\r\n                <div className=\"graph1\">\r\n                    <Bar\r\n                        data = {this.state.Data}\r\n                        options = {{ maintainAspectRatio: false }} />\r\n                </div>\r\n                <div className=\"graph2\">\r\n                    <Bar\r\n                        data = {this.state.Data1}\r\n                        options = {{ maintainAspectRatio: false }} />\r\n                </div>\r\n                <div className=\"right-feed\">\r\n                    <h4 style={{ color: \"#8424c9\"}}><b>LIVE FEED</b></h4>\r\n                    {this.renderData()}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(Food)\r\n\r\n"]},"metadata":{},"sourceType":"module"}